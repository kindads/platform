@model KindAds.Negocio.ViewModels.KindAdsV2.MarketplaceChannelViewModel
@{
  var culture = System.Threading.Thread.CurrentThread.CurrentUICulture.Name.ToLowerInvariant();
}

@if (Model != null && Model.listChannel != null && Model.listChannel.Count > 0)
{
  <div class="row market-title">
    <div class="col-12">
      <h1>Premium Publishers @*(<label id="lblResultNoRecords">@ViewBag.NoChannelPremium</label>)*@</h1>
      <a class="pull-right btn btn-primary btn-sm">View all</a>
    </div>
  </div>

  <div class="row">
    <div class="ol-12">
      <div class="slider">
        @foreach (var d in Model.listChannel)
        {
          if (d.IsPremium)
          {
            <div class="card">
              <a href='@Url.Action("ViewChannel","Marketplace",new {@culture = culture, idAudienceChannel =d.Id })'>
                <div class="card-img">
                  <img class="img-responsive" src=@d.ImageUrl />
                  <div class="metrics">
                    <span href="#" class="btn btn-fav"></span>
                    <span class="score">@d.Score</span>
                  </div>
                </div>

                <div class="card-body">
                  <div class="channel">
                    <small class="type" type="@d.ChannelType">@d.ChannelType</small>
                    <small class="detail"> @d.Detail</small>
                  </div>
                  <div class="content">
                    <h3>@d.Name</h3>
                    <p class="tagline flexbox-item">@d.TagLine</p>
                    <div class="categories">
                      <span>@d.Category,</span>
                      <span>@d.SubCategory</span>
                    </div>
                  </div>
                  <div class="row" style="display: none;">
                    <div class="col-sm-6">
                      @if (User.IsInRole(KindAds.Utils.Enums.Roles.Advertiser.ToString()))
                      {
                        <button id="btnOrderNowPremium" type="button" class="btn btn-secondary">
                          Order Now
                        </button>
                      }
                    </div>
                  </div>
                </div>

                <div class="card-price clearfix">
                  <small class="price">
                    Starts at
                    <span>@d.Price.ToString("##0.0") k</span>
                  </small>
                  <small class="review">
                    <span>@d.AudienceName</span>
                    Rating @d.Rating
                  </small>
                </div>
              </a>
            </div>
          }
        }
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-12 market-title">
      <h2 class="pull-left">Recently Viewed Audiences @*(<label id="lblResultNoRecords">@ViewBag.NoChannelNoPremium</label>)*@</h2>
      <a class="pull-right btn btn-primary btn-sm">View all</a>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <section class="slider">
        @foreach (var d in Model.listChannel)
        {
          if (!d.IsPremium)
          {
            <div class="card">
              <a href='@Url.Action("ViewChannel","Marketplace",new {@culture = culture, idAudienceChannel =d.Id })'>
                <div class="card-img">
                  <img class="img-responsive" src=@d.ImageUrl />
                  <div class="metrics">
                    <span href="#" class="btn btn-fav"></span>
                    <span class="score">@d.Score</span>
                  </div>
                </div>

                <div class="card-body">
                  <div class="channel">
                    <small class="type" type="@d.ChannelType">@d.ChannelType</small>
                    <small class="detail"> @d.Detail</small>
                  </div>
                  <div class="content">
                    <h3>@d.Name</h3>
                    <p class="tagline flexbox-item">@d.TagLine</p>
                    <div class="categories">
                      <span>@d.Category,</span>
                      <span>@d.SubCategory</span>
                    </div>
                  </div>
                  <div class="row" style="display: none;">
                    <div class="col-sm-6">
                      @if (User.IsInRole(KindAds.Utils.Enums.Roles.Advertiser.ToString()))
                      {
                        <button id="btnOrderNowPremium" type="button" class="btn btn-secondary">
                          Order Now
                        </button>
                      }
                    </div>
                  </div>
                </div>

                <div class="card-price clearfix">
                  <small class="price">
                    Starts at
                    <span>@d.Price.ToString("##0.0") k</span>
                  </small>
                  <small class="review">
                    <span>@d.AudienceName</span>
                    Rating @d.Rating
                  </small>
                </div>
              </a>
            </div>
          }
        }
      </section>
    </div>
  </div>

  <div class="row">
    <div class="col-12 market-title">
      <h2 class="pull-left">Highest Rated Audiences</h2>
      <a class="pull-right btn btn-primary btn-sm">View all</a>
    </div>
  </div>

  <div class="row">
    <div class="col-12">
      <section class="slider">
        @foreach (var d in Model.listChannel)
        {
          if (!d.IsPremium)
          {
            <div class="card">
              <a href='@Url.Action("ViewChannel","Marketplace",new {@culture = culture, idAudienceChannel =d.Id })'>
                <div class="card-img">
                  <img class="img-responsive" src=@d.ImageUrl />
                  <div class="metrics">
                    <span href="#" class="btn btn-fav"></span>
                    <span class="score">@d.Score</span>
                  </div>
                </div>

                <div class="card-body">
                  <div class="channel">
                    <small class="type" type="@d.ChannelType">@d.ChannelType</small>
                    <small class="detail"> @d.Detail</small>
                  </div>
                  <div class="content">
                    <h3>@d.Name</h3>
                    <p class="tagline flexbox-item">@d.TagLine</p>
                    <div class="categories">
                      <span>@d.Category,</span>
                      <span>@d.SubCategory</span>
                    </div>
                  </div>
                  <div class="row" style="display: none;">
                    <div class="col-sm-6">
                      @if (User.IsInRole(KindAds.Utils.Enums.Roles.Advertiser.ToString()))
                      {
                        <button id="btnOrderNowPremium" type="button" class="btn btn-secondary">
                          Order Now
                        </button>
                      }
                    </div>
                  </div>
                </div>

                <div class="card-price clearfix">
                  <small class="price">
                    Starts at
                    <span>@d.Price.ToString("##0.0") k</span>
                  </small>
                  <small class="review">
                    <span>@d.AudienceName</span>
                    Rating @d.Rating
                  </small>
                </div>
              </a>
            </div>
          }
        }
      </section>
    </div>
  </div>
}

<script type="text/javascript">
  $(document).ready(function () {
    $(".slider").slick({
      autoplay: false,
      dots: true,
      infinite: true,
      speed: 500,
      slidesToShow: 4,
      slidesToScroll: 4,
      responsive: [{
        breakpoint: 1280,
        settings: {
          slidesToShow: 3,
          slidesToScroll: 3
        }
      },
      {
        breakpoint: 768,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 2
        }
      },
      {
        breakpoint: 480,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1
        }
      }]
    });

    $(".metrics span.score:empty").addClass("hidden");
  });
</script>
